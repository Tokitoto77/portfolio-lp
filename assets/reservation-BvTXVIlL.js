import"./style-BchAeMK8.js";document.addEventListener("DOMContentLoaded",()=>{const t=new URLSearchParams(window.location.search),r=t.get("date"),c=t.get("time"),n=t.get("class"),l=t.get("type"),d=document.getElementById("date-time"),a=document.getElementById("course");r&&c&&(d.value=`${r} ${c}`),l==="trial"?a.value="trial":n&&(n.includes("マット")?a.value="mat":n.includes("マシン")?a.value="machine":n.includes("ミックス")&&(a.value="mix"));const o=document.getElementById("reservation-form"),u=document.getElementById("form-wrapper"),i=document.getElementById("thanks-message");o.addEventListener("submit",async g=>{g.preventDefault();const e=o.querySelector('button[type="submit"]'),f=e.innerText;e.innerText="送信中...",e.disabled=!0;const p=new FormData(o),m={};p.forEach((s,h)=>m[h]=s);const y="https://script.google.com/macros/s/AKfycbyGkz77EQI9Ag8YcwIMi6WGNvnzzOSAoBX9cPzVAUpKeiuiGDqlIuK80gzAkTgSipc/exec";try{await fetch(y,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(m)}),u.style.display="none",i.classList.add("visible"),i.scrollIntoView({behavior:"smooth"})}catch(s){console.error("Submission Error:",s),alert("送信エラー: "+s.message+`
(GASの設定やネットワークを確認してください)`),e.innerText=f,e.disabled=!1}})});
